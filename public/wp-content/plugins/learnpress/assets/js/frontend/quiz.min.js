!function(i){function n(n){let t=this,e=i.extend({},n),o=e.remainingTime,s=null,u=i(".quiz-countdown .progress-number"),m=new LP.Event_Callback(this);function f(){r();const t=e.remainingTime<=0;if(!(-1!==i.inArray(n.status,["completed","finished"]))){if(t)return i("form.complete-quiz").off("submit.learn-press-confirm"),void m.callEvent("finish");e.remainingTime--,s=setTimeout(f,1e3)}}function r(){s&&clearTimeout(s)}function c(){e.watchChange("remainingTime",(function(i,n,e){return o=e,l.apply(t,[n,e]),e}))}function l(n,t){m.callEvent("tick",[t]),t<=0&&(r(),i("form.complete-quiz").off("submit.learn-press-confirm"),m.callEvent("finish"))}function a(){let n=i(this),t=n.find('input[name="nav-type"]'),e=n[0].className.match(/(prev|next|skip)-question/);t.length||(t=i('<input type="hidden" name="nav-type" />').val(e[0]).appendTo(n))}this.on=m.on,this.off=m.off,e.totalTime>0&&(this.on("tick.showTime",(function(){o<0&&(o=0),u.html(o.toTime())})),this.on("finish.submit",(function(){i("form.complete-quiz").submit()}))),this.getRemainingTime=function(){return o},e.remainingTime<=0&&(i("form.complete-quiz").off("submit.learn-press-confirm"),m.callEvent("finish")),e.onTick&&t.on("tick",e.onTick),e.onFinish&&t.on("finish",e.onFinish),i(document).on("submit",".next-question, .prev-question, .skip-question",a),c(),f()}!Number.prototype.toTime&&(Number.prototype.toTime=function(){let i=this+0,n="";if(i>86400){const t=Math.ceil(i/86400);n=t+(t>1?" "+lpQuizSettings.daysLeft:" "+lpQuizSettings.dayLeft)}else{let t=Math.floor(i/3600),e=0;i=t?i%(3600*t):i,e=Math.floor(i/60),i=e?i%(60*e):i,t&&t<10&&(t="0"+t),e<10&&(e="0"+e),i<10&&(i="0"+i),n=t+":"+e+":"+i}return n}),i(document).ready((function(){"undefined"!=typeof lpQuizSettings&&(window.lpQuiz=new n(lpQuizSettings))}))}(jQuery);